{% extends 'Layout.twig' %}

{% block content %}
    <h2>Liste des articles</h2>

    <form method="GET" action="/articles">
        <label for="category">Sélectionner une catégorie :</label>
        <select id="category" name="category">
            <option value="">Toutes les catégories</option>
            {% for categorie in categories %}
                <option value="{{ categorie.id }}">{{ categorie.titre }}</option>
            {% endfor %}
        </select>
        <button type="submit">Filtrer</button>
    </form>

    {% if articles is not empty %}
    <a href="/article/create" class="article-item">créer un article</a>
        <ul class="article-list">
            {% for article in articles %}
                <li class="article-item">
                    <a href="#" class="article-button">
                        {{ article.titre }} - {{ article.date_crea|date('d/m/Y') }}
                    </a>
                    <p>{{ article.content|raw }}</p>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Aucun article trouvé.</p>
    {% endif %}
{% endblock %}
